<!DOCTYPE html>
<!--
    So Simple Jekyll Theme 3.1.0
    Copyright 2013-2018 Michael Rose - mademistakes.com | @mmistakes
    Free for personal and commercial use under the MIT license
    https://github.com/mmistakes/so-simple-theme/blob/master/LICENSE
-->
<html lang="en-US" class="no-js">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  

  
    
    <!-- Begin Jekyll SEO tag v2.4.0 -->
<title>Ruby on Rails, 部署到heroku常见问题 | Xullnn’s</title>
<meta name="generator" content="Jekyll v3.7.3" />
<meta property="og:title" content="Ruby on Rails, 部署到heroku常见问题" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="这篇文章收录所有在Ruby on Rails下push到heroku过程中的常见问题及处理方法。 这些问题有可能是由开发环境和生产环境的不同引起，或是由操作上的错误引起。" />
<meta property="og:description" content="这篇文章收录所有在Ruby on Rails下push到heroku过程中的常见问题及处理方法。 这些问题有可能是由开发环境和生产环境的不同引起，或是由操作上的错误引起。" />
<link rel="canonical" href="http://localhost:4000/error%20records%20%E2%84%97/Frequent-problems-when-deploying-to-heroku/" />
<meta property="og:url" content="http://localhost:4000/error%20records%20%E2%84%97/Frequent-problems-when-deploying-to-heroku/" />
<meta property="og:site_name" content="Xullnn’s" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-04-01T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@" />
<script type="application/ld+json">
{"url":"http://localhost:4000/error%20records%20%E2%84%97/Frequent-problems-when-deploying-to-heroku/","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/error%20records%20%E2%84%97/Frequent-problems-when-deploying-to-heroku/"},"description":"这篇文章收录所有在Ruby on Rails下push到heroku过程中的常见问题及处理方法。 这些问题有可能是由开发环境和生产环境的不同引起，或是由操作上的错误引起。","@type":"BlogPosting","headline":"Ruby on Rails, 部署到heroku常见问题","dateModified":"2017-04-01T00:00:00+08:00","datePublished":"2017-04-01T00:00:00+08:00","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  

  <script>
    /* Cut the mustard */
    if ( 'querySelector' in document && 'addEventListener' in window ) {
      document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + 'js';
    }
  </script>

  <link rel="stylesheet" href="/assets/css/main.css">
  
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,700,700i|Lora:400,400i,700,700i">
  <link rel="alternate" type="application/atom+xml" title="Xullnn&#39;s" href="/atom.xml">
<!-- start custom head snippets -->

<!-- insert favicons. use http://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

</head>


  <body class="layout--post  ruby-on-rails-部署到heroku常见问题">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#primary-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    
  <div class="navigation-wrapper">
    <a href="#menu-toggle" id="menu-toggle">Menu</a>
    <nav id="primary-nav" class="site-nav animated drop">
      <ul><li><a href="/">Home</a></li><li><a href="/categories/">Categories</a></li><li><a href="/tags/">Tags</a></li><li><a href="/search/">Search</a></li></ul>
    </nav>
  </div><!-- /.navigation-wrapper -->


    <header class="masthead">
  <div class="wrap">
    
    
      <h1 class="site-title animated fadeIn"><a href="/">Xullnn's</a></h1>
      <p class="site-description animated fadeIn" itemprop="description">Record</p>
    
  </div>
</header><!-- /.masthead -->


    <main id="main" class="main-content" aria-label="Content">
  <article class="h-entry">
    

    <div class="page-wrapper">
      <header class="page-header">
        
        
          <h1 id="page-title" class="page-title p-name">Ruby on Rails, 部署到heroku常见问题
</h1>
        
      </header>

      <div class="page-sidebar">
        <div class="page-author h-card p-author"><div class="author-info"><ul class="author-links"><li class="author-link">
            <a class="u-url" rel="me" href=""><i class="fas fa-link fa-lg" title=""></i></a>
          </li></ul>
    <time class="page-date dt-published" datetime="2017-04-01T00:00:00+08:00"><a class="u-url" href="">April 1, 2017</a>
</time>

  </div>
</div>

        
  <h3 class="page-taxonomies-title">Categories</h3>
  <ul class="page-taxonomies"><li class="page-taxonomy">Error records ℗</li>
  </ul>


        
  <h3 class="page-taxonomies-title">Tags</h3>
  <ul class="page-taxonomies"><li class="page-taxonomy">Heroku</li><li class="page-taxonomy">Ruby & Rails</li><li class="page-taxonomy">Deploy</li>
  </ul>


      </div>

      <div class="page-content">
        <div class="e-content">
          <p>这篇文章收录所有在Ruby on Rails下push到heroku过程中的常见问题及处理方法。
这些问题有可能是由开发环境和生产环境的不同引起，或是由操作上的错误引起。</p>

<p>原则上一切问题还是以官方说明文档为准：<a href="https://devcenter.heroku.com/articles/getting-started-with-ruby#introduction">heroku官方帮助文档</a></p>

<h3 id="1-gemfile-文件不正确导致的部署失败">1 Gemfile 文件不正确导致的部署失败。</h3>

<p>目前在ruby on rails框架下做的专案在部署到heroku前都会修改gemfile:</p>

<p>将文件中第7行左右的 <code class="highlighter-rouge">gem 'sqlite3'</code> 这一行剪切搬到40行左右的：</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">group</span> <span class="ss">:development</span><span class="p">,</span> <span class="ss">:test</span> <span class="k">do</span>
  <span class="o">...</span>
  <span class="o">...</span>
  <span class="n">gem</span> <span class="s1">'debug'</span><span class="p">,</span> <span class="n">platform</span> <span class="ss">:mri</span>
  <span class="n">gem</span> <span class="s1">'sqlite3'</span>
<span class="k">end</span>
</code></pre></div></div>

<p>此group最后一行，如上所示。</p>

<p>接着需要在末尾新增一个 group :production , 加入 pg 这个 gem :</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">group</span> <span class="ss">:production</span> <span class="k">do</span>
  <span class="n">gem</span> <span class="s1">'pg'</span>
<span class="k">end</span>
</code></pre></div></div>

<p>然后  <code class="highlighter-rouge">command S</code> 保存后执行  <code class="highlighter-rouge">bundle install</code></p>

<p>然后 <code class="highlighter-rouge">git add .</code> 将更改加入暂存区 <code class="highlighter-rouge">git commit -m "alert gemfile, ready to push"</code> 确认更改</p>

<p>完成后可以再次 <code class="highlighter-rouge">git push heroku master</code> (要确保进行这一步前你设置好了heroku remote地址，可以通过<code class="highlighter-rouge">git remote -v</code>来查看当前专案的remote地址)</p>

<p><strong>很重要的是执行完push后，记得需要<code class="highlighter-rouge">heroku run rake db:migrate</code></strong> run一次资料库。</p>

<p>最后可以 <code class="highlighter-rouge">heroku open</code> 打开网页查看结果。</p>

<h3 id="2-远端地址错误引起的push失败">2 远端地址错误引起的push失败</h3>

<p>这类型错误对于初学者较为常见，其实理解了git远端地址的设置操作，对于heroku的理解也就容易了。</p>

<p>一种常见的情境是：</p>

<ul>
  <li>第一次（或前几次）尝试push heroku 失败了，做了修改之后跑到heroku网页端的dashboard上将之前建立的那个一直push失败的app删掉了。</li>
  <li>然后又回到终端继续操作push heroku动作。</li>
  <li>接着再次报错。</li>
</ul>

<p>这种情况下的报错一般是：</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="ss">remote: </span><span class="o">!</span>  <span class="no">No</span> <span class="n">such</span> <span class="n">app</span> <span class="n">as</span> <span class="n">xxxxxx</span><span class="o">-</span><span class="n">xxxxx</span><span class="o">-</span><span class="n">xxxx</span><span class="p">.</span>
  <span class="nf">fatal</span><span class="p">:</span> <span class="n">repository</span> <span class="s1">'https://git.heroku.com/xxxxxx-xxxxx-xxxx.git/'</span> <span class="n">not</span> <span class="n">found</span>
  <span class="no">Couldn</span><span class="err">'</span><span class="n">t</span> <span class="n">find</span> <span class="n">that</span> <span class="n">app</span>
</code></pre></div></div>

<p>上面信息中提到的 xxxxxx-xxxxx-xxxx 这个app以及对应的url地址就之前被删掉的那个，由于服务器端的仓库被删了，但是本地app中的remote没有修改，还是之前那个，所以按这个地址去push就会返回这样的信息。</p>

<p>处理方法是删掉目前的heroku remote地址 （通常情况下是<code class="highlighter-rouge">git remote rm heroku</code>）
接着新建一个heroku 专案仓库<code class="highlighter-rouge">heroku create</code>， 这一步将会自动为你添加新的heroku remote地址。可以通过<code class="highlighter-rouge">git remote -v</code>来查看当前的heroku远端地址和刚刚 create 生成的地址是否一致。
确认无误后可以再次 <code class="highlighter-rouge">git push heroku branch:master</code></p>

<h3 id="3-本地app文件太大被拒">3 本地app文件太大被拒</h3>

<p>这是在做carbolowdrate时遇到的问题，由于我们写了很“重”的seed档，里面引用大量的图片导致文件体积剧增达到了458.6 Mb</p>

<p><img src="/images/post_images/9pAGUycQm4FBJVdvAQlQ_屏幕快照 2017-03-02 上午9.53.43.png" alt="" /></p>

<p>解决方法是批量压缩图片或者以其他方式减小体量，然后再尝试push。</p>

<h3 id="4-部署后资料库相关操作问题">4 部署后资料库相关操作问题</h3>

<p>这是一次我遇到的问题，背景说明：</p>

<p>做一个购物网站，由于每个商品都有很多图片，就将这些图片一并存入了专案文件夹，并将图片一并写入seed，但是忘了将gitignore中存图的路径去掉，所以push到heroku后跑seed发现只有商品信息，没有图。本地修正问题后准备重新push，但由于seed档每跑一次都会生成新资料而不会覆盖之前的，所以在终端执行<code class="highlighter-rouge">heroku run rake db:drop</code>试图drop掉之前seed生成的资料，然后重新跑seed。运行此命令时报错：</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">ActiveRecord</span><span class="o">::</span><span class="no">ProtectedEnvironmentError</span><span class="p">:</span> <span class="no">You</span> <span class="n">are</span> <span class="n">attempting</span> <span class="n">to</span> <span class="n">run</span> <span class="n">a</span> <span class="n">destructive</span> <span class="n">action</span> <span class="n">against</span> <span class="n">your</span> <span class="s1">'production'</span> <span class="n">database</span><span class="o">.</span>

<span class="no">If</span> <span class="n">you</span> <span class="n">are</span> <span class="n">sure</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="n">continue</span><span class="p">,</span> <span class="n">run</span> <span class="n">the</span> <span class="n">same</span> <span class="n">command</span> <span class="n">with</span> <span class="n">the</span> <span class="n">environment</span> <span class="ss">variable:

</span><span class="no">DISABLE_DATABASE_ENVIRONMENT_CHECK</span><span class="o">=</span><span class="mi">1</span>
</code></pre></div></div>

<p>返回信息可以看到其实是一种保护机制，避免你在开发环境上随意删掉产品环境中的资料。但按照提示操作了<code class="highlighter-rouge">DISABLE_DATABASE_ENVIRONMENT_CHECK=1</code>但还是不行。</p>

<p>解决方法是执行：<code class="highlighter-rouge">heroku pg:reset DATABASE</code>。<a href="http://stackoverflow.com/questions/4820549/how-to-empty-db-in-heroku">更详细的说明可以看一个stackoverflow上的回答</a>。</p>

<p>然后按提示再次输入app名称就可以执行成功，drop掉之前部署网站的资料。</p>

<p><img src="/images/post_images/WyF3qZZZRiznDllaM9dw_屏幕快照 2017-03-02 下午10.55.11.png" alt="" /></p>

<p>后续再操作 <code class="highlighter-rouge">rake db:migrate</code></p>

<h3 id="5-本地新建分支push到heroku上后发现什么都没变">5 本地新建分支push到heroku上后发现什么都没变</h3>

<p>这个问题是由于分支操作失误引起的。</p>

<p>背景说明：</p>

<p>做app过程中我们一般都会先将新的分支push到github然后再push到heroku，刚开始的时候我们都是到github上将所有没有问题的分支merge，然后到本地退回master接着pull下新的master，而且前面几次部署都是<code class="highlighter-rouge">git push heroku master</code> ，然后这次我们跳过了先去merge再pull的步骤，直接<code class="highlighter-rouge">git push heroku newbranch</code>，接着就发现heroku端没有变化。</p>

<p>仔细看了终端返回的信息：</p>

<p><img src="/images/post_images/QOaMolZ7TcuBEFqiM2mD_屏幕快照 2017-03-09 下午2.28.53.png" alt="" /></p>

<p>倒数第六行：</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="ss">remote: </span><span class="no">Pushed</span> <span class="n">to</span> <span class="n">non</span><span class="o">-</span><span class="n">master</span> <span class="n">branch</span><span class="p">,</span> <span class="n">skipping</span> <span class="n">build</span><span class="o">.</span>
</code></pre></div></div>
<p>“推送到无主干分支，跳过建立“ 意味着这次push操作被忽略了，原因是不知道这个新分支push到哪个分支。</p>

<p>正确的操作是：</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">git</span> <span class="n">push</span> <span class="n">heroku</span> <span class="n">newbranchname</span><span class="ss">:master</span>
</code></pre></div></div>

<p>这样告诉系统我的这个 newbranch 是插到 master 上的。</p>

<p>接着才会返回push到heroku成功的信息。</p>

<h3 id="6-本地未commit-变更到git导致push到heroku网页报错">6 本地未commit 变更到git导致push到heroku网页报错</h3>

<p>发现push到heroku的过程没有报错，但运行migrate时没报错但少了该有的信息反馈。<code class="highlighter-rouge">git status</code> 发现是变更没有commit 。
下面是空专案在heroku 跑 migrate 返回的信息。</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">yuanningdeMacBook</span><span class="o">-</span><span class="no">Pro</span><span class="ss">:suggestotron</span> <span class="n">yuanning</span><span class="err">$</span> <span class="n">heroku</span> <span class="n">run</span> <span class="n">rake</span> <span class="n">db</span><span class="ss">:migrate</span>
<span class="no">Running</span> <span class="n">rake</span> <span class="n">db</span><span class="ss">:migrate</span> <span class="n">on</span> <span class="err">⬢</span> <span class="n">intense</span><span class="o">-</span><span class="n">peak</span><span class="o">-</span><span class="mi">10910</span><span class="o">...</span> <span class="n">up</span><span class="p">,</span> <span class="n">run</span><span class="o">.</span><span class="mi">2777</span> <span class="p">(</span><span class="no">Free</span><span class="p">)</span>
<span class="no">D</span><span class="p">,</span> <span class="p">[</span><span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">04</span><span class="no">T12</span><span class="p">:</span><span class="mi">09</span><span class="p">:</span><span class="mf">35.811601</span> <span class="c1">#4] DEBUG -- :    (13.3ms)  CREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)</span>
<span class="no">D</span><span class="p">,</span> <span class="p">[</span><span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">04</span><span class="no">T12</span><span class="p">:</span><span class="mi">09</span><span class="p">:</span><span class="mf">35.827673</span> <span class="c1">#4] DEBUG -- :    (11.3ms)  CREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)</span>
<span class="no">D</span><span class="p">,</span> <span class="p">[</span><span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">04</span><span class="no">T12</span><span class="p">:</span><span class="mi">09</span><span class="p">:</span><span class="mf">35.829738</span> <span class="c1">#4] DEBUG -- :    (0.8ms)  SELECT pg_try_advisory_lock(557831323824430425);</span>
<span class="no">D</span><span class="p">,</span> <span class="p">[</span><span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">04</span><span class="no">T12</span><span class="p">:</span><span class="mi">09</span><span class="p">:</span><span class="mf">35.841999</span> <span class="c1">#4] DEBUG -- :   ActiveRecord::SchemaMigration Load (1.0ms)  SELECT "schema_migrations".* FROM "schema_migrations"</span>
<span class="no">D</span><span class="p">,</span> <span class="p">[</span><span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">04</span><span class="no">T12</span><span class="p">:</span><span class="mi">09</span><span class="p">:</span><span class="mf">35.856948</span> <span class="c1">#4] DEBUG -- :   ActiveRecord::InternalMetadata Load (1.0ms)  SELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2  [["key", :environment], ["LIMIT", 1]]</span>
<span class="no">D</span><span class="p">,</span> <span class="p">[</span><span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">04</span><span class="no">T12</span><span class="p">:</span><span class="mi">09</span><span class="p">:</span><span class="mf">35.873359</span> <span class="c1">#4] DEBUG -- :    (0.8ms)  BEGIN</span>
<span class="no">D</span><span class="p">,</span> <span class="p">[</span><span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">04</span><span class="no">T12</span><span class="p">:</span><span class="mi">09</span><span class="p">:</span><span class="mf">35.876387</span> <span class="c1">#4] DEBUG -- :   SQL (1.0ms)  INSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"  [["key", "environment"], ["value", "production"], ["created_at", 2017-04-04 12:09:35 UTC], ["updated_at", 2017-04-04 12:09:35 UTC]]</span>
<span class="no">D</span><span class="p">,</span> <span class="p">[</span><span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">04</span><span class="no">T12</span><span class="p">:</span><span class="mi">09</span><span class="p">:</span><span class="mf">35.878954</span> <span class="c1">#4] DEBUG -- :    (2.2ms)  COMMIT</span>
<span class="no">D</span><span class="p">,</span> <span class="p">[</span><span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">04</span><span class="no">T12</span><span class="p">:</span><span class="mi">09</span><span class="p">:</span><span class="mf">35.880000</span> <span class="c1">#4] DEBUG -- :    (0.8ms)  SELECT pg_advisory_unlock(557831323824430425)</span>
<span class="n">yuanningdeMacBook</span><span class="o">-</span><span class="no">Pro</span><span class="ss">:suggestotron</span> <span class="n">yuanning</span><span class="err">$</span> <span class="n">heroku</span> <span class="nb">open</span>
<span class="n">yuanningdeMacBook</span><span class="o">-</span><span class="no">Pro</span><span class="ss">:suggestotron</span> <span class="n">yuanning</span><span class="err">$</span>

</code></pre></div></div>

<hr />

<h3 id="7-cssjs文件格式错误导致的push失败">7 css/js文件格式错误导致的push失败</h3>

<p>这种问题在最后提示失败的时候会告诉：</p>

<blockquote>
  <p>Precompiling assets failed……Push rejected, failed to compile Ruby app.</p>
</blockquote>

<p>这类错误信息，提示说是compile assets过程中的问题，一直往上找heroku的log，找到rake aborted!处：</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="no">ExecJs</span><span class="o">::</span><span class="no">ProgramError</span><span class="p">:</span> <span class="no">Unexpected</span> <span class="n">character</span> <span class="s1">'@'</span> <span class="p">(</span><span class="ss">line: </span><span class="mi">12830</span><span class="p">,</span> <span class="ss">col: </span><span class="mi">0</span><span class="p">,</span> <span class="ss">pos: </span><span class="mi">387012</span><span class="p">)</span>

</code></pre></div></div>

<p><img src="/images/post_images/屏幕快照 2017-05-03 下午2.21.02.png" alt="" />
google后有人出现过类似问题：</p>

<ul>
  <li><a href="http://stackoverflow.com/questions/23438448/unable-to-push-to-heroku-after-being-able-to-do-do">类似问题1</a></li>
  <li><a href="http://stackoverflow.com/questions/25334276/execjsprogramerror-unexpected-character-when-trying-to-precompile-assets">类似问题2</a></li>
</ul>

<p><strong>大意都是说js文件里出现了一不正确的字符，在这个错误中提示的是 <code class="highlighter-rouge">@</code> 这个字符</strong></p>

<p>于是在 app/assets/javascripts/application.js 中去找，原来是将 引入bootstrap的两行代码 <code class="highlighter-rouge">@import "bootstrap"</code> 放到了js文件里，导致了错误。</p>

<hr />

<h3 id="8-随机网络问题">8 随机网络问题</h3>

<p>这个问题不仅会出现在push过程中，push成功后续操作<code class="highlighter-rouge">heroku run rake db:drop</code> <code class="highlighter-rouge">heroku run rake db:migrate</code> 之类的命令时也会出现。
有时会返回多个错误信息，但有一个标志是终端返回的 app 地址后会有个粗体红色的感叹号❗️</p>

<p><img src="/photos//postimages/1juisCYZTOnKM39LqKlg_Snip20170329_122.png" alt="" /></p>

<p>返回的信息还有可能是：</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">ActionView</span><span class="o">::</span><span class="no">Template</span><span class="o">::</span><span class="no">Error</span> <span class="p">(</span><span class="no">PG</span><span class="o">::</span><span class="no">UndefinedTable</span><span class="p">:</span> <span class="no">ERROR</span><span class="p">:</span> <span class="n">relation</span> <span class="s2">"groups"</span> <span class="n">does</span> <span class="n">not</span> <span class="n">exist</span>
</code></pre></div></div>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">ENOTFOUND</span><span class="p">:</span> <span class="n">getaddrinfo</span> <span class="no">ENOTFOUND</span> <span class="n">api</span><span class="p">.</span><span class="nf">heroku</span><span class="p">.</span><span class="nf">com</span> <span class="n">api</span><span class="p">.</span><span class="nf">heroku</span><span class="p">.</span><span class="nf">com</span><span class="p">:</span><span class="mi">443</span> <span class="no">Error</span> <span class="k">for</span> <span class="n">heroku</span> <span class="n">create</span>
</code></pre></div></div>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">FATAL</span><span class="p">:</span> <span class="n">permission</span> <span class="n">denied</span> <span class="k">for</span> <span class="n">database</span> <span class="s2">"postgres"</span>
</code></pre></div></div>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">ETIMEOUT</span><span class="p">:</span> <span class="n">connect</span> <span class="no">ETIMEOUT</span> <span class="mf">50.19</span><span class="o">.</span><span class="mf">103.36</span><span class="o">....</span>
</code></pre></div></div>

<p>如果是网络问题导致的push或者资料表操作失败，首先是要更换网络或者线路。后续可能会由于前面连续不完整地操作资料库，导致一些错误。需要drop掉重新跑。可以先尝试<code class="highlighter-rouge">heroku restart</code> 接着 <code class="highlighter-rouge">heroku run rake db:migrate</code></p>

<p>如果发现类似4中的情况可以借用相同的解决方式：</p>

<p><code class="highlighter-rouge">heroku run pg:reset DATABASE</code></p>

<p><code class="highlighter-rouge">heroku run rake db:migrate</code></p>

<p><code class="highlighter-rouge">heroku run rake db:seed</code></p>

<hr />

<p><strong>一个具有迷惑性的网络错误：</strong></p>

<p>这也是在push到heroku成功后，在运行<code class="highlighter-rouge">heroku run rake db:migrate</code> 时出错，错误之指向了一个view相关的文件</p>

<p>还有 <code class="highlighter-rouge">ActionView::Template::Error (PG::UndefinedTable: ERROR:  relation "groups" does not exist</code> 的报错</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">xxxMacBook</span><span class="o">-</span><span class="no">Pro</span><span class="ss">:rails102</span> <span class="n">wangtao</span><span class="err">$</span> <span class="n">heroku</span> <span class="n">logs</span>

<span class="o">......</span>


<span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">25</span><span class="p">:</span><span class="mf">46.282886</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="n">heroku</span><span class="p">[</span><span class="n">router</span><span class="p">]:</span> <span class="n">at</span><span class="o">=</span><span class="n">info</span> <span class="nb">method</span><span class="o">=</span><span class="no">GET</span> <span class="n">path</span><span class="o">=</span><span class="s2">"/"</span> <span class="n">host</span><span class="o">=</span><span class="n">agile</span><span class="o">-</span><span class="n">forest</span><span class="o">-</span><span class="mi">51820</span><span class="p">.</span><span class="nf">herokuapp</span><span class="p">.</span><span class="nf">com</span> <span class="n">request_id</span><span class="o">=</span><span class="n">ed6699db</span><span class="o">-</span><span class="n">d3b6</span><span class="o">-</span><span class="mi">471</span><span class="n">f</span><span class="o">-</span><span class="mi">8340</span><span class="o">-</span><span class="n">bfeb318e534c</span> <span class="n">fwd</span><span class="o">=</span><span class="s2">"42.200.194.245"</span> <span class="n">dyno</span><span class="o">=</span><span class="n">web</span><span class="o">.</span><span class="mi">1</span> <span class="n">connect</span><span class="o">=</span><span class="mi">1</span><span class="n">ms</span> <span class="n">service</span><span class="o">=</span><span class="mi">119</span><span class="n">ms</span> <span class="n">status</span><span class="o">=</span><span class="mi">500</span> <span class="n">bytes</span><span class="o">=</span><span class="mi">1669</span> <span class="n">protocol</span><span class="o">=</span><span class="n">https</span>
<span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">25</span><span class="p">:</span><span class="mf">46.837107</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="n">heroku</span><span class="p">[</span><span class="n">router</span><span class="p">]:</span> <span class="n">at</span><span class="o">=</span><span class="n">info</span> <span class="nb">method</span><span class="o">=</span><span class="no">GET</span> <span class="n">path</span><span class="o">=</span><span class="s2">"/favicon.ico"</span> <span class="n">host</span><span class="o">=</span><span class="n">agile</span><span class="o">-</span><span class="n">forest</span><span class="o">-</span><span class="mi">51820</span><span class="p">.</span><span class="nf">herokuapp</span><span class="p">.</span><span class="nf">com</span> <span class="n">request_id</span><span class="o">=</span><span class="mi">8</span><span class="n">f6e9c85</span><span class="o">-</span><span class="n">f261</span><span class="o">-</span><span class="mi">49</span><span class="n">d5</span><span class="o">-</span><span class="mi">91</span><span class="n">aa</span><span class="o">-</span><span class="n">e72ae36e6bbd</span> <span class="n">fwd</span><span class="o">=</span><span class="s2">"42.200.194.245"</span> <span class="n">dyno</span><span class="o">=</span><span class="n">web</span><span class="o">.</span><span class="mi">1</span> <span class="n">connect</span><span class="o">=</span><span class="mi">1</span><span class="n">ms</span> <span class="n">service</span><span class="o">=</span><span class="mi">2</span><span class="n">ms</span> <span class="n">status</span><span class="o">=</span><span class="mi">200</span> <span class="n">bytes</span><span class="o">=</span><span class="mi">143</span> <span class="n">protocol</span><span class="o">=</span><span class="n">https</span>
<span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="mf">41.585433</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="n">app</span><span class="p">[</span><span class="n">api</span><span class="p">]:</span> <span class="no">Starting</span> <span class="n">process</span> <span class="n">with</span> <span class="n">command</span> <span class="sb">`bundle exec rake db:migrate`</span> <span class="n">by</span> <span class="n">user</span> <span class="n">wangtao14385</span><span class="vi">@gmail</span><span class="p">.</span><span class="nf">com</span>
<span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="mf">45.922886</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="n">heroku</span><span class="p">[</span><span class="n">run</span><span class="o">.</span><span class="mi">9695</span><span class="p">]:</span> <span class="no">State</span> <span class="n">changed</span> <span class="n">from</span> <span class="n">starting</span> <span class="n">to</span> <span class="n">up</span>
<span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="mf">45.856504</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="n">heroku</span><span class="p">[</span><span class="n">run</span><span class="o">.</span><span class="mi">9695</span><span class="p">]:</span> <span class="no">Awaiting</span> <span class="n">client</span>
<span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">28</span><span class="p">:</span><span class="mf">15.865296</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="n">heroku</span><span class="p">[</span><span class="n">run</span><span class="o">.</span><span class="mi">9695</span><span class="p">]:</span> <span class="no">Error</span> <span class="no">R13</span> <span class="p">(</span><span class="no">Attach</span> <span class="n">error</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="no">Failed</span> <span class="n">to</span> <span class="n">attach</span> <span class="n">to</span> <span class="n">process</span>
<span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">28</span><span class="p">:</span><span class="mf">15.868993</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="n">heroku</span><span class="p">[</span><span class="n">run</span><span class="o">.</span><span class="mi">9695</span><span class="p">]:</span> <span class="no">Process</span> <span class="n">exited</span> <span class="n">with</span> <span class="n">status</span> <span class="mi">128</span>
<span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">28</span><span class="p">:</span><span class="mf">15.923816</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="n">heroku</span><span class="p">[</span><span class="n">run</span><span class="o">.</span><span class="mi">9695</span><span class="p">]:</span> <span class="no">State</span> <span class="n">changed</span> <span class="n">from</span> <span class="n">up</span> <span class="n">to</span> <span class="n">complete</span>
<span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mf">20.331604</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="n">app</span><span class="p">[</span><span class="n">web</span><span class="o">.</span><span class="mi">1</span><span class="p">]:</span> <span class="no">I</span><span class="p">,</span> <span class="p">[</span><span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mf">20.331510</span> <span class="c1">#4]  INFO -- : [86c789ff-e828-469e-afd9-177dab0f7c2a] Started GET "/" for 42.200.194.245 at 2017-04-03 12:30:20 +0000</span>
<span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mf">20.332618</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="n">app</span><span class="p">[</span><span class="n">web</span><span class="o">.</span><span class="mi">1</span><span class="p">]:</span> <span class="no">I</span><span class="p">,</span> <span class="p">[</span><span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mf">20.332564</span> <span class="c1">#4]  INFO -- : [86c789ff-e828-469e-afd9-177dab0f7c2a] Processing by GroupsController#index as HTML</span>
<span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mf">20.333860</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="n">app</span><span class="p">[</span><span class="n">web</span><span class="o">.</span><span class="mi">1</span><span class="p">]:</span> <span class="no">I</span><span class="p">,</span> <span class="p">[</span><span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mf">20.333797</span> <span class="c1">#4]  INFO -- : [86c789ff-e828-469e-afd9-177dab0f7c2a]   Rendering groups/index.html.erb within layouts/application</span>
<span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mf">20.337969</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="n">app</span><span class="p">[</span><span class="n">web</span><span class="o">.</span><span class="mi">1</span><span class="p">]:</span> <span class="no">D</span><span class="p">,</span> <span class="p">[</span><span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mf">20.337890</span> <span class="c1">#4] DEBUG -- : [86c789ff-e828-469e-afd9-177dab0f7c2a]   Group Load (1.6ms)  SELECT "groups".* FROM "groups"</span>
<span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mf">20.338863</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="n">app</span><span class="p">[</span><span class="n">web</span><span class="o">.</span><span class="mi">1</span><span class="p">]:</span> <span class="no">I</span><span class="p">,</span> <span class="p">[</span><span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mf">20.338792</span> <span class="c1">#4]  INFO -- : [86c789ff-e828-469e-afd9-177dab0f7c2a]   Rendered groups/index.html.erb within layouts/application (4.8ms)</span>
<span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mf">20.339142</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="n">app</span><span class="p">[</span><span class="n">web</span><span class="o">.</span><span class="mi">1</span><span class="p">]:</span> <span class="no">I</span><span class="p">,</span> <span class="p">[</span><span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mf">20.339072</span> <span class="c1">#4]  INFO -- : [86c789ff-e828-469e-afd9-177dab0f7c2a] Completed 500 Internal Server Error in 6ms (ActiveRecord: 1.6ms)</span>
<span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mf">20.340379</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="n">app</span><span class="p">[</span><span class="n">web</span><span class="o">.</span><span class="mi">1</span><span class="p">]:</span> <span class="no">F</span><span class="p">,</span> <span class="p">[</span><span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mf">20.340307</span> <span class="c1">#4] FATAL -- : [86c789ff-e828-469e-afd9-177dab0f7c2a]   </span>
<span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mf">20.340450</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="n">app</span><span class="p">[</span><span class="n">web</span><span class="o">.</span><span class="mi">1</span><span class="p">]:</span> <span class="no">F</span><span class="p">,</span> <span class="p">[</span><span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mf">20.340387</span> <span class="c1">#4] FATAL -- : [86c789ff-e828-469e-afd9-177dab0f7c2a] ActionView::Template::Error (PG::UndefinedTable: ERROR:  relation "groups" does not exist</span>
<span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mf">20.340452</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="n">app</span><span class="p">[</span><span class="n">web</span><span class="o">.</span><span class="mi">1</span><span class="p">]:</span> <span class="no">LINE</span> <span class="mi">1</span><span class="p">:</span> <span class="no">SELECT</span> <span class="s2">"groups"</span><span class="p">.</span><span class="nf">*</span> <span class="no">FROM</span> <span class="s2">"groups"</span>
<span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mf">20.340452</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="n">app</span><span class="p">[</span><span class="n">web</span><span class="o">.</span><span class="mi">1</span><span class="p">]:</span>                                <span class="o">^</span>
<span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mf">20.340453</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="n">app</span><span class="p">[</span><span class="n">web</span><span class="o">.</span><span class="mi">1</span><span class="p">]:</span> <span class="p">:</span> <span class="no">SELECT</span> <span class="s2">"groups"</span><span class="p">.</span><span class="nf">*</span> <span class="no">FROM</span> <span class="s2">"groups"</span><span class="p">):</span>
<span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mf">20.340723</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="n">app</span><span class="p">[</span><span class="n">web</span><span class="o">.</span><span class="mi">1</span><span class="p">]:</span> <span class="no">F</span><span class="p">,</span> <span class="p">[</span><span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mf">20.340646</span> <span class="c1">#4] FATAL -- : [86c789ff-e828-469e-afd9-177dab0f7c2a]     12:       &lt;/tr&gt;</span>
<span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mf">20.340725</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="n">app</span><span class="p">[</span><span class="n">web</span><span class="o">.</span><span class="mi">1</span><span class="p">]:</span> <span class="p">[</span><span class="mi">86</span><span class="n">c789ff</span><span class="o">-</span><span class="n">e828</span><span class="o">-</span><span class="mi">469</span><span class="n">e</span><span class="o">-</span><span class="n">afd9</span><span class="o">-</span><span class="mi">177</span><span class="n">dab0f7c2a</span><span class="p">]</span>     <span class="mi">13</span><span class="p">:</span>     <span class="o">&lt;</span><span class="sr">/thead&gt;
2017-04-03T12:30:20.340725+00:00 app[web.1]: [86c789ff-e828-469e-afd9-177dab0f7c2a]     14:     &lt;tbody&gt;
2017-04-03T12:30:20.340726+00:00 app[web.1]: [86c789ff-e828-469e-afd9-177dab0f7c2a]     15:       &lt;%= render :partial =&gt; "group_item", :collection =&gt; @groups, :as =&gt; :group %&gt;
2017-04-03T12:30:20.340726+00:00 app[web.1]: [86c789ff-e828-469e-afd9-177dab0f7c2a]     16:     &lt;/</span><span class="n">tbody</span><span class="o">&gt;</span>
<span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mf">20.340726</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="n">app</span><span class="p">[</span><span class="n">web</span><span class="o">.</span><span class="mi">1</span><span class="p">]:</span> <span class="p">[</span><span class="mi">86</span><span class="n">c789ff</span><span class="o">-</span><span class="n">e828</span><span class="o">-</span><span class="mi">469</span><span class="n">e</span><span class="o">-</span><span class="n">afd9</span><span class="o">-</span><span class="mi">177</span><span class="n">dab0f7c2a</span><span class="p">]</span>     <span class="mi">17</span><span class="p">:</span>   <span class="o">&lt;</span><span class="sr">/table&gt;
2017-04-03T12:30:20.340727+00:00 app[web.1]: [86c789ff-e828-469e-afd9-177dab0f7c2a]     18: &lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mf">20.340788</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="n">app</span><span class="p">[</span><span class="n">web</span><span class="o">.</span><span class="mi">1</span><span class="p">]:</span> <span class="no">F</span><span class="p">,</span> <span class="p">[</span><span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mf">20.340726</span> <span class="c1">#4] FATAL -- : [86c789ff-e828-469e-afd9-177dab0f7c2a]   </span>
<span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mf">20.340900</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="n">app</span><span class="p">[</span><span class="n">web</span><span class="o">.</span><span class="mi">1</span><span class="p">]:</span> <span class="no">F</span><span class="p">,</span> <span class="p">[</span><span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mf">20.340803</span> <span class="c1">#4] FATAL -- : [86c789ff-e828-469e-afd9-177dab0f7c2a] app/views/groups/index.html.erb:15:in `_app_views_groups_index_html_erb__2670371387529623777_70121649390860'</span>
<span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mf">20.364505</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="n">heroku</span><span class="p">[</span><span class="n">router</span><span class="p">]:</span> <span class="n">at</span><span class="o">=</span><span class="n">info</span> <span class="nb">method</span><span class="o">=</span><span class="no">GET</span> <span class="n">path</span><span class="o">=</span><span class="s2">"/"</span> <span class="n">host</span><span class="o">=</span><span class="n">agile</span><span class="o">-</span><span class="n">forest</span><span class="o">-</span><span class="mi">51820</span><span class="p">.</span><span class="nf">herokuapp</span><span class="p">.</span><span class="nf">com</span> <span class="n">request_id</span><span class="o">=</span><span class="mi">86</span><span class="n">c789ff</span><span class="o">-</span><span class="n">e828</span><span class="o">-</span><span class="mi">469</span><span class="n">e</span><span class="o">-</span><span class="n">afd9</span><span class="o">-</span><span class="mi">177</span><span class="n">dab0f7c2a</span> <span class="n">fwd</span><span class="o">=</span><span class="s2">"42.200.194.245"</span> <span class="n">dyno</span><span class="o">=</span><span class="n">web</span><span class="o">.</span><span class="mi">1</span> <span class="n">connect</span><span class="o">=</span><span class="mi">1</span><span class="n">ms</span> <span class="n">service</span><span class="o">=</span><span class="mi">11</span><span class="n">ms</span> <span class="n">status</span><span class="o">=</span><span class="mi">500</span> <span class="n">bytes</span><span class="o">=</span><span class="mi">1669</span> <span class="n">protocol</span><span class="o">=</span><span class="n">https</span>
<span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mf">20.938892</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="n">heroku</span><span class="p">[</span><span class="n">router</span><span class="p">]:</span> <span class="n">at</span><span class="o">=</span><span class="n">info</span> <span class="nb">method</span><span class="o">=</span><span class="no">GET</span> <span class="n">path</span><span class="o">=</span><span class="s2">"/favicon.ico"</span> <span class="n">host</span><span class="o">=</span><span class="n">agile</span><span class="o">-</span><span class="n">forest</span><span class="o">-</span><span class="mi">51820</span><span class="p">.</span><span class="nf">herokuapp</span><span class="p">.</span><span class="nf">com</span> <span class="n">request_id</span><span class="o">=</span><span class="mi">5224</span><span class="n">cd33</span><span class="o">-</span><span class="mi">46</span><span class="n">ed</span><span class="o">-</span><span class="mi">4</span><span class="n">ad2</span><span class="o">-</span><span class="n">b3d5</span><span class="o">-</span><span class="mi">4</span><span class="n">b39f9c61a6e</span> <span class="n">fwd</span><span class="o">=</span><span class="s2">"42.200.194.245"</span> <span class="n">dyno</span><span class="o">=</span><span class="n">web</span><span class="o">.</span><span class="mi">1</span> <span class="n">connect</span><span class="o">=</span><span class="mi">1</span><span class="n">ms</span> <span class="n">service</span><span class="o">=</span><span class="mi">2</span><span class="n">ms</span>

<span class="o">......</span>

<span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mf">13.973915</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="n">heroku</span><span class="p">[</span><span class="n">router</span><span class="p">]:</span> <span class="n">at</span><span class="o">=</span><span class="n">info</span> <span class="nb">method</span><span class="o">=</span><span class="no">GET</span> <span class="n">path</span><span class="o">=</span><span class="s2">"/"</span> <span class="n">host</span><span class="o">=</span><span class="n">agile</span><span class="o">-</span><span class="n">forest</span><span class="o">-</span><span class="mi">51820</span><span class="p">.</span><span class="nf">herokuapp</span><span class="p">.</span><span class="nf">com</span> <span class="n">request_id</span><span class="o">=</span><span class="n">b76e81e3</span><span class="o">-</span><span class="n">a22b</span><span class="o">-</span><span class="mi">402</span><span class="n">f</span><span class="o">-</span><span class="mi">9</span><span class="n">b31</span><span class="o">-</span><span class="mi">0</span><span class="n">d5fb223b99b</span> <span class="n">fwd</span><span class="o">=</span><span class="s2">"42.200.194.245"</span> <span class="n">dyno</span><span class="o">=</span><span class="n">web</span><span class="o">.</span><span class="mi">1</span> <span class="n">connect</span><span class="o">=</span><span class="mi">1</span><span class="n">ms</span> <span class="n">service</span><span class="o">=</span><span class="mi">10</span><span class="n">ms</span> <span class="n">status</span><span class="o">=</span><span class="mi">500</span> <span class="n">bytes</span><span class="o">=</span><span class="mi">1669</span> <span class="n">protocol</span><span class="o">=</span><span class="n">https</span>

</code></pre></div></div>

<p>很具迷惑性的是这一段关于view的报错：</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="no">F</span><span class="p">,</span> <span class="p">[</span><span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mf">20.340646</span> <span class="c1">#4] FATAL -- : [86c789ff-e828-469e-afd9-177dab0f7c2a]     12:       &lt;/tr&gt;</span>
<span class="o">......</span>    <span class="mi">13</span><span class="p">:</span>     <span class="o">&lt;</span><span class="sr">/thead&gt;
......    14:     &lt;tbody&gt;
......    15:       &lt;%= render :partial =&gt; "group_item", :collection =&gt; @groups, :as =&gt; :group %&gt;
......    16:     &lt;/</span><span class="n">tbody</span><span class="o">&gt;</span>
<span class="o">......</span>    <span class="mi">17</span><span class="p">:</span>   <span class="o">&lt;</span><span class="sr">/table&gt;
......    18: &lt;/</span><span class="n">div</span><span class="o">&gt;</span>
 <span class="no">F</span><span class="p">,</span> <span class="p">[</span><span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mf">20.340726</span> <span class="c1">#4] FATAL -- : [86c789ff-e828-469e-afd9-177dab0f7c2a]   </span>
<span class="no">F</span><span class="p">,</span> <span class="p">[</span><span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">03</span><span class="no">T12</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mf">20.340803</span> <span class="c1">#4] FATAL -- : [86c789ff-e828-469e-afd9-177dab0f7c2a] app/views/groups/index.html.erb:15:in `_app_views_groups_index_html_erb__2670371387529623777_70121649390860'</span>
</code></pre></div></div>

        </div>

        <!-- 
          <div class="page-share">
  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Ferror%2520records%2520%25E2%2584%2597%2FFrequent-problems-when-deploying-to-heroku%2F" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" class="btn btn--facebook btn--small"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i> <span>Share</span></a>
  <a href="https://twitter.com/intent/tweet?text=Ruby+on+Rails%2C+%E9%83%A8%E7%BD%B2%E5%88%B0heroku%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%20http%3A%2F%2Flocalhost%3A4000%2Ferror%2520records%2520%25E2%2584%2597%2FFrequent-problems-when-deploying-to-heroku%2F" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" class="btn btn--twitter btn--small"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i> <span>Tweet</span></a>
  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Ferror%2520records%2520%25E2%2584%2597%2FFrequent-problems-when-deploying-to-heroku%2F" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" class="btn btn--linkedin btn--small"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> <span>LinkedIn</span></a>
  <a href="https://reddit.com/submit?title=Ruby+on+Rails%2C+%E9%83%A8%E7%BD%B2%E5%88%B0heroku%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98&url=http%3A%2F%2Flocalhost%3A4000%2Ferror%2520records%2520%25E2%2584%2597%2FFrequent-problems-when-deploying-to-heroku%2F" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" class="btn btn--reddit btn--small"><i class="fab fa-fw fa-reddit" aria-hidden="true"></i> <span>Reddit</span></a>
</div>

         -->

        

        <nav class="page-pagination" role="navigation">
  
    <a class="page-previous" href="/reading%20notes/The-Brain-That-Changes-Itself/">
      <h4 class="page-pagination-label">Previous</h4>
      <span class="page-pagination-title">
        <i class="fas fa-arrow-left"></i> Note of The Brain That Changes Itself

      </span>
    </a>
  

  
    <a class="page-next" href="/command%20line%20%E2%84%97/Linux-command-grep/">
      <h4 class="page-pagination-label">Next</h4>
      <span class="page-pagination-title">
        grep系列命令用以查找信息
 <i class="fas fa-arrow-right"></i>
      </span>
    </a>
  
</nav>

      </div>
    </div>
  </article>
</main>


    <footer id="footer" class="site-footer">
  <!-- start custom footer snippets -->

<!-- end custom footer snippets -->


  <!--<div class="social-icons"><a class="social-icon" href="/atom.xml"><i class="fas fa-rss-square fa-2x" title="Feed"></i></a></div>-->

  <div class="copyright">
    
    <p>&copy; 2018  Xullnn.</p> <p>Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll. </a>
       Theme: <a href="https://github.com/mmistakes/so-simple-theme" rel="nofollow">So Simple</a>.</p>
    
  </div>
</footer>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script src="/assets/js/main.min.js"></script>
  <script src="https://use.fontawesome.com/releases/v5.0.7/js/all.js"></script>


  </body>

</html>
