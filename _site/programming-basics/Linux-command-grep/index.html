<!DOCTYPE html>
<!--
    So Simple Jekyll Theme 3.1.0
    Copyright 2013-2018 Michael Rose - mademistakes.com | @mmistakes
    Free for personal and commercial use under the MIT license
    https://github.com/mmistakes/so-simple-theme/blob/master/LICENSE
-->
<html lang="en-US" class="no-js">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  

  
    
    <!-- Begin Jekyll SEO tag v2.4.0 -->
<title>grep系列命令用以查找信息 | Caven’s</title>
<meta name="generator" content="Jekyll v3.7.3" />
<meta property="og:title" content="grep系列命令用以查找信息" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="grep是一个最初用于Unix操作系统的命令行工具。在给出文件列表或标准输入后，grep会对匹配一个或多个正则表达式的文本进行搜索，并只输出匹配（或者不匹配）的行或文本。" />
<meta property="og:description" content="grep是一个最初用于Unix操作系统的命令行工具。在给出文件列表或标准输入后，grep会对匹配一个或多个正则表达式的文本进行搜索，并只输出匹配（或者不匹配）的行或文本。" />
<link rel="canonical" href="http://localhost:4000/programming-basics/Linux-command-grep/" />
<meta property="og:url" content="http://localhost:4000/programming-basics/Linux-command-grep/" />
<meta property="og:site_name" content="Caven’s" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-04-01T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@" />
<script type="application/ld+json">
{"url":"http://localhost:4000/programming-basics/Linux-command-grep/","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/programming-basics/Linux-command-grep/"},"description":"grep是一个最初用于Unix操作系统的命令行工具。在给出文件列表或标准输入后，grep会对匹配一个或多个正则表达式的文本进行搜索，并只输出匹配（或者不匹配）的行或文本。","@type":"BlogPosting","headline":"grep系列命令用以查找信息","dateModified":"2017-04-01T00:00:00+08:00","datePublished":"2017-04-01T00:00:00+08:00","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  

  <script>
    /* Cut the mustard */
    if ( 'querySelector' in document && 'addEventListener' in window ) {
      document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + 'js';
    }
  </script>

  <link rel="stylesheet" href="/assets/css/main.css">
  
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,700,700i|Lora:400,400i,700,700i">
  <link rel="alternate" type="application/atom+xml" title="Caven&#39;s" href="/atom.xml">
<!-- start custom head snippets -->

<!-- insert favicons. use http://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

</head>


  <body class="layout--post  grep系列命令用以查找信息">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#primary-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    
  <div class="navigation-wrapper">
    <a href="#menu-toggle" id="menu-toggle">Menu</a>
    <nav id="primary-nav" class="site-nav animated drop">
      <ul><li><a href="/">Home</a></li><li><a href="/categories/">Categories</a></li><li><a href="/tags/">Tags</a></li><li><a href="/search/">Search</a></li></ul>
    </nav>
  </div><!-- /.navigation-wrapper -->


    <header class="masthead">
  <div class="wrap">
    
    
      <h1 class="site-title animated fadeIn"><a href="/">Caven's</a></h1>
      <p class="site-description animated fadeIn" itemprop="description">Record</p>
    
  </div>
</header><!-- /.masthead -->


    <main id="main" class="main-content" aria-label="Content">
  <article class="h-entry">
    

    <div class="page-wrapper">
      <header class="page-header">
        
        
          <h1 id="page-title" class="page-title p-name">grep系列命令用以查找信息
</h1>
        
      </header>

      <div class="page-sidebar">
        <div class="page-author h-card p-author"><div class="author-info"><ul class="author-links"><li class="author-link">
            <a class="u-url" rel="me" href=""><i class="fas fa-link fa-lg" title=""></i></a>
          </li></ul>
    <time class="page-date dt-published" datetime="2017-04-01T00:00:00+08:00"><a class="u-url" href="">April 1, 2017</a>
</time>

  </div>
</div>

        
  <h3 class="page-taxonomies-title">Categories</h3>
  <ul class="page-taxonomies"><li class="page-taxonomy">Programming-basics</li>
  </ul>


        
  <h3 class="page-taxonomies-title">Tags</h3>
  <ul class="page-taxonomies"><li class="page-taxonomy">Ruby & Rails</li><li class="page-taxonomy">Command Line</li>
  </ul>


      </div>

      <div class="page-content">
        <div class="e-content">
          <p>grep是一个最初用于Unix操作系统的命令行工具。在给出文件列表或标准输入后，grep会对匹配一个或多个正则表达式的文本进行搜索，并只输出匹配（或者不匹配）的行或文本。</p>

<p>这里只引入几个简单的最常用的grep用法，<a href="https://zh.wikipedia.org/wiki/Grep">关于更详细的说明可以点击查看wiki上的条目</a>。</p>

<h4 id="1-grep-linux-computertext">1 <code class="highlighter-rouge">grep linux computer.text</code></h4>

<p>这个例子中，grep会返回 computer.text 这个文件中所有包含 linux(小写) 的文本行。要注意的是这里grep不会返回 “Linux”,  “liNux”, “LINuX” 这类文本的搜索结果，默认情况下会识别大小写。所以，grep会配合一些参数来设置搜索选项，比如上面的例子中如果要不区分大小写：</p>

<p><code class="highlighter-rouge">grep -i linux computer.text</code></p>
<blockquote>
  <p>这里<code class="highlighter-rouge">-i</code>的意思是 “–ignore-case”忽略大小写的意思。</p>
</blockquote>

<h4 id="2-grep用于在git中查找信息">2 grep用于在git中查找信息</h4>

<p>当我们新建专案时执行<code class="highlighter-rouge">git init</code>就将指定的所有文件加入了git的追踪。</p>

<p><strong>使用<code class="highlighter-rouge">git grep touch</code>会列出所有git追踪下所有含touch(小写)的文本行：</strong></p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">_includes</span><span class="o">/</span><span class="n">head</span><span class="p">.</span><span class="nf">html</span><span class="p">:</span>  <span class="o">&lt;</span><span class="n">link</span> <span class="n">rel</span><span class="o">=</span><span class="s2">"apple-touch-icon"</span> <span class="n">sizes</span><span class="o">=</span><span class="s2">"57x57"</span> <span class="n">href</span><span class="o">=</span><span class="s2">"images/favicons/apple-touch-icon-57x57.png"</span><span class="o">&gt;</span>
<span class="n">_includes</span><span class="o">/</span><span class="n">head</span><span class="p">.</span><span class="nf">html</span><span class="p">:</span>  <span class="o">&lt;</span><span class="n">link</span> <span class="n">rel</span><span class="o">=</span><span class="s2">"apple-touch-icon"</span> <span class="n">sizes</span><span class="o">=</span><span class="s2">"60x60"</span> <span class="n">href</span><span class="o">=</span><span class="s2">"images/favicons/apple-touch-icon-60x60.png"</span><span class="o">&gt;</span>
<span class="n">_includes</span><span class="o">/</span><span class="n">head</span><span class="p">.</span><span class="nf">html</span><span class="p">:</span>  <span class="o">&lt;</span><span class="n">link</span> <span class="n">rel</span><span class="o">=</span><span class="s2">"apple-touch-icon"</span> <span class="n">sizes</span><span class="o">=</span><span class="s2">"72x72"</span> <span class="n">href</span><span class="o">=</span><span class="s2">"images/favicons/apple-touch-icon-72x72.png"</span><span class="o">&gt;</span>
 <span class="n">sizes</span><span class="o">=</span><span class="s2">"60x60"</span><span class="n">href</span><span class="o">=</span><span class="s2">"/images/favicons/apple-touch-icon-60x60.png"</span><span class="o">&gt;</span>

<span class="n">_site</span><span class="o">/</span><span class="mi">2016</span><span class="o">/</span><span class="n">welcome</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">jekyll</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="nf">html</span><span class="p">:</span>  <span class="o">&lt;</span><span class="n">link</span> <span class="n">rel</span><span class="o">=</span><span class="s2">"apple-touch-icon"</span><span class="n">sizes</span><span class="o">=</span><span class="s2">"76x76"</span><span class="n">href</span><span class="o">=</span><span class="s2">"/images/favicons/apple-touch-icon-76x76.png"</span><span class="o">&gt;</span>
<span class="n">_site</span><span class="o">/</span><span class="mi">2016</span><span class="o">/</span><span class="n">welcome</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">jekyll</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="nf">html</span><span class="p">:</span>  <span class="o">&lt;</span><span class="n">link</span> <span class="n">rel</span><span class="o">=</span><span class="s2">"apple-touch-icon"</span> <span class="n">sizes</span><span class="o">=</span><span class="s2">"114x114"</span> <span class="n">href</span><span class="o">=</span><span class="s2">"/images/favicons/apple-touch-icon-114x114.png"</span><span class="o">&gt;</span>
<span class="n">_site</span><span class="o">/</span><span class="mi">2016</span><span class="o">/</span><span class="n">welcome</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">jekyll</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="nf">html</span><span class="p">:</span>  <span class="o">&lt;</span><span class="n">link</span> <span class="n">rel</span><span class="o">=</span><span class="s2">"apple-touch-icon"</span> <span class="n">sizes</span><span class="o">=</span><span class="s2">"120x120"</span> <span class="n">href</span><span class="o">=</span><span class="s2">"/images/favicons/apple-touch-icon-120x120.png"</span><span class="o">&gt;</span>
<span class="o">......</span>
</code></pre></div></div>

<p>如果要排除大小写区分，使用<code class="highlighter-rouge">git grep -i touch</code></p>

<p><strong>如果想要在搜索结果中显示文本行的行号，可以再加上<code class="highlighter-rouge">-n</code> 比如：<code class="highlighter-rouge">git grep -i -n jekyll</code> 结果就会附上每条文本在其对应文本中的行号。</strong></p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">Gemfile</span><span class="p">.</span><span class="nf">lock</span><span class="p">:</span><span class="mi">89</span><span class="p">:</span>      <span class="n">jekyll</span> <span class="p">(</span><span class="o">~&gt;</span> <span class="mf">3.0</span><span class="p">)</span>
<span class="no">Gemfile</span><span class="p">.</span><span class="nf">lock</span><span class="p">:</span><span class="mi">90</span><span class="p">:</span>    <span class="n">jekyll</span><span class="o">-</span><span class="n">coffeescript</span> <span class="p">(</span><span class="mf">1.0</span><span class="o">.</span><span class="mi">1</span><span class="p">)</span>
<span class="no">Gemfile</span><span class="p">.</span><span class="nf">lock</span><span class="p">:</span><span class="mi">92</span><span class="p">:</span>    <span class="n">jekyll</span><span class="o">-</span><span class="n">default</span><span class="o">-</span><span class="n">layout</span> <span class="p">(</span><span class="mf">0.1</span><span class="o">.</span><span class="mi">4</span><span class="p">)</span>
<span class="no">Gemfile</span><span class="p">.</span><span class="nf">lock</span><span class="p">:</span><span class="mi">93</span><span class="p">:</span>      <span class="n">jekyll</span> <span class="p">(</span><span class="o">~&gt;</span> <span class="mf">3.0</span><span class="p">)</span>
<span class="no">Gemfile</span><span class="p">.</span><span class="nf">lock</span><span class="p">:</span><span class="mi">94</span><span class="p">:</span>    <span class="n">jekyll</span><span class="o">-</span><span class="n">feed</span> <span class="p">(</span><span class="mf">0.9</span><span class="o">.</span><span class="mi">2</span><span class="p">)</span>
<span class="o">......</span>
<span class="no">Gemfile</span><span class="p">.</span><span class="nf">lock</span><span class="p">:</span><span class="err">第</span><span class="n">n</span><span class="err">行</span><span class="p">:</span>
</code></pre></div></div>

<p><strong>如果只想查看含有某个特定字符的文件的文件名，可以用<code class="highlighter-rouge">git grep --name-only css</code> 这样会返回所有含有css的文件列表（不是具体的文本行）。</strong></p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">_includes</span><span class="o">/</span><span class="n">head</span><span class="p">.</span><span class="nf">html</span>
<span class="n">_site</span><span class="o">/</span><span class="mi">2016</span><span class="o">/</span><span class="n">welcome</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">jekyll</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="nf">html</span>
<span class="n">_site</span><span class="o">/</span><span class="mi">2017</span><span class="o">/</span><span class="no">Frequent</span><span class="o">-</span><span class="n">problems</span><span class="o">-</span><span class="k">when</span><span class="o">-</span><span class="n">deploying</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">heroku</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="nf">html</span>
<span class="n">_site</span><span class="o">/</span><span class="n">categories</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="nf">html</span>
<span class="n">_site</span><span class="o">/</span><span class="n">css</span><span class="o">/</span><span class="n">main</span><span class="p">.</span><span class="nf">css</span>
<span class="n">_site</span><span class="o">/</span><span class="n">css</span><span class="o">/</span><span class="n">uno</span><span class="p">.</span><span class="nf">css</span>
<span class="n">_site</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="nf">html</span>
<span class="n">_site</span><span class="o">/</span><span class="n">js</span><span class="o">/</span><span class="n">main</span><span class="p">.</span><span class="nf">js</span>
<span class="o">......</span>
</code></pre></div></div>

<p><strong>上一个例子中如果想进一步想显示每个文件中含有多少个 “css” ，就是让系统帮你数好，那么就<code class="highlighter-rouge">git grep -c css</code> (不需要–name-only)</strong></p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">_includes</span><span class="o">/</span><span class="n">head</span><span class="p">.</span><span class="nf">html</span><span class="p">:</span><span class="mi">1</span>
<span class="n">_site</span><span class="o">/</span><span class="mi">2016</span><span class="o">/</span><span class="n">welcome</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">jekyll</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="nf">html</span><span class="p">:</span><span class="mi">1</span>
<span class="n">_site</span><span class="o">/</span><span class="mi">2017</span><span class="o">/</span><span class="no">Frequent</span><span class="o">-</span><span class="n">problems</span><span class="o">-</span><span class="k">when</span><span class="o">-</span><span class="n">deploying</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">heroku</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="nf">html</span><span class="p">:</span><span class="mi">1</span>
<span class="n">_site</span><span class="o">/</span><span class="n">categories</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="nf">html</span><span class="p">:</span><span class="mi">1</span>
<span class="n">_site</span><span class="o">/</span><span class="n">css</span><span class="o">/</span><span class="n">main</span><span class="p">.</span><span class="nf">css</span><span class="p">:</span><span class="mi">2</span>
<span class="n">_site</span><span class="o">/</span><span class="n">css</span><span class="o">/</span><span class="n">uno</span><span class="p">.</span><span class="nf">css</span><span class="p">:</span><span class="mi">4</span>
<span class="n">_site</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="nf">html</span><span class="p">:</span><span class="mi">1</span>
<span class="n">_site</span><span class="o">/</span><span class="n">js</span><span class="o">/</span><span class="n">main</span><span class="p">.</span><span class="nf">js</span><span class="p">:</span><span class="mi">1</span>
<span class="o">......</span>
</code></pre></div></div>
<p><code class="highlighter-rouge">-c</code>的意思就是<code class="highlighter-rouge">--count</code>。</p>

<h4 id="3-在heroku-logs中查找特定信息">3 在heroku logs中查找特定信息</h4>

<p>部署到heroku是很容易出错的环节，准确快速地从heroku的logs中找到问题可以提高解决问题的效率。</p>

<p>查找heroku log信息的方式是<code class="highlighter-rouge">heroku logs</code>，如果用grep抓取则可以是<code class="highlighter-rouge">heroku logs | grep -i error</code>。如此就会查找到log信息中所有带有error字符的文本行。这里的使用跟在git中很类似，只是前半部分存在区别。</p>

<p>这是使用<code class="highlighter-rouge">heroku logs | grep -i common</code>的结果</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">caven</span><span class="vi">@CavendeMacBook</span><span class="o">-</span><span class="no">Pro</span> <span class="err">⮀</span> <span class="o">~</span><span class="sr">/learnruby/s</span><span class="n">hop</span> <span class="err">⮀</span> <span class="err">⭠</span> <span class="n">caven</span><span class="o">-</span><span class="n">fix</span><span class="o">-</span><span class="n">error01</span> <span class="err">⮀</span> <span class="n">heroku</span> <span class="n">logs</span> <span class="o">|</span> <span class="n">grep</span> <span class="o">-</span><span class="n">i</span> <span class="n">common</span>
<span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">02</span><span class="no">T02</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mf">58.390743</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="n">app</span><span class="p">[</span><span class="n">web</span><span class="o">.</span><span class="mi">1</span><span class="p">]:</span> <span class="no">I</span><span class="p">,</span> <span class="p">[</span><span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">02</span><span class="no">T02</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mf">58.390684</span> <span class="c1">#4]  INFO -- : [74cc96c9-326e-4755-aaa4-08f135bcbd1a]   Rendered common/_flashes.html.erb (0.5ms)</span>
<span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">02</span><span class="no">T02</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mf">58.420455</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="n">app</span><span class="p">[</span><span class="n">web</span><span class="o">.</span><span class="mi">1</span><span class="p">]:</span> <span class="no">I</span><span class="p">,</span> <span class="p">[</span><span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">02</span><span class="no">T02</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mf">58.420407</span> <span class="c1">#4]  INFO -- : [74cc96c9-326e-4755-aaa4-08f135bcbd1a]   Rendered common/_navbar.html.erb (29.3ms)</span>
<span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">02</span><span class="no">T02</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mf">58.421419</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="n">app</span><span class="p">[</span><span class="n">web</span><span class="o">.</span><span class="mi">1</span><span class="p">]:</span> <span class="no">I</span><span class="p">,</span> <span class="p">[</span><span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">02</span><span class="no">T02</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mf">58.421364</span> <span class="c1">#4]  INFO -- : [74cc96c9-326e-4755-aaa4-08f135bcbd1a]   Rendered common/_footer.html.erb (0.4ms)</span>
<span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">02</span><span class="no">T02</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mo">02</span><span class="o">.</span><span class="mi">522177</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="n">app</span><span class="p">[</span><span class="n">web</span><span class="o">.</span><span class="mi">1</span><span class="p">]:</span> <span class="no">I</span><span class="p">,</span> <span class="p">[</span><span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">02</span><span class="no">T02</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mo">02</span><span class="o">.</span><span class="mi">522118</span> <span class="c1">#4]  INFO -- : [183aff59-999c-4cbc-898a-7407a76b80fd]   Rendered common/_flashes.html.erb (0.1ms)</span>
<span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">02</span><span class="no">T02</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mo">02</span><span class="o">.</span><span class="mi">530441</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="n">app</span><span class="p">[</span><span class="n">web</span><span class="o">.</span><span class="mi">1</span><span class="p">]:</span> <span class="no">I</span><span class="p">,</span> <span class="p">[</span><span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">02</span><span class="no">T02</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mo">02</span><span class="o">.</span><span class="mi">530377</span> <span class="c1">#4]  INFO -- : [183aff59-999c-4cbc-898a-7407a76b80fd]   Rendered common/_navbar.html.erb (8.1ms)</span>
<span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">02</span><span class="no">T02</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mo">02</span><span class="o">.</span><span class="mi">530661</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span> <span class="n">app</span><span class="p">[</span><span class="n">web</span><span class="o">.</span><span class="mi">1</span><span class="p">]:</span> <span class="no">I</span><span class="p">,</span> <span class="p">[</span><span class="mi">2017</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mo">02</span><span class="no">T02</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mo">02</span><span class="o">.</span><span class="mi">530600</span> <span class="c1">#4]  INFO -- : [183aff59-999c-4cbc-898a-7407a76b80fd]   Rendered common/_footer.html.erb (0.0ms)</span>
<span class="n">caven</span><span class="vi">@CavendeMacBook</span><span class="o">-</span><span class="no">Pro</span> <span class="err">⮀</span> <span class="o">~</span><span class="sr">/learnruby/s</span><span class="n">hop</span> <span class="err">⮀</span> <span class="err">⭠</span> <span class="n">caven</span><span class="o">-</span><span class="n">fix</span><span class="o">-</span><span class="n">error01</span> <span class="err">⮀</span>
</code></pre></div></div>

<p><code class="highlighter-rouge">heroku logs | grep -i -E 'error|fatal'</code> 到log中去找含有error和fatal的行</p>

<h4 id="4-组合条件的grep">4 组合条件的grep</h4>

<p><code class="highlighter-rouge">git grep -E -i -n 'has_many|belongs_to'</code> 可以忽略大小写抓出 含有 has_many 或 belongs_to 的文本行，并标出行号。</p>
<blockquote>
  <p><code class="highlighter-rouge">-E</code>的意思是 “–extended-regexp” 扩展的正则表达式。</p>
</blockquote>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">app</span><span class="o">/</span><span class="n">models</span><span class="o">/</span><span class="n">cart</span><span class="p">.</span><span class="nf">rb</span><span class="p">:</span><span class="mi">2</span><span class="p">:</span>  <span class="n">has_many</span> <span class="ss">:cart_items</span>
<span class="n">app</span><span class="o">/</span><span class="n">models</span><span class="o">/</span><span class="n">cart</span><span class="p">.</span><span class="nf">rb</span><span class="p">:</span><span class="mi">3</span><span class="p">:</span>  <span class="n">has_many</span> <span class="ss">:products</span><span class="p">,</span> <span class="ss">through: :cart_items</span><span class="p">,</span> <span class="ss">source: :product</span>
<span class="n">app</span><span class="o">/</span><span class="n">models</span><span class="o">/</span><span class="n">cart_item</span><span class="p">.</span><span class="nf">rb</span><span class="p">:</span><span class="mi">2</span><span class="p">:</span>  <span class="n">belongs_to</span> <span class="ss">:cart</span>
<span class="n">app</span><span class="o">/</span><span class="n">models</span><span class="o">/</span><span class="n">cart_item</span><span class="p">.</span><span class="nf">rb</span><span class="p">:</span><span class="mi">3</span><span class="p">:</span>  <span class="n">belongs_to</span> <span class="ss">:product</span>
<span class="n">app</span><span class="o">/</span><span class="n">models</span><span class="o">/</span><span class="n">comment</span><span class="p">.</span><span class="nf">rb</span><span class="p">:</span><span class="mi">2</span><span class="p">:</span>  <span class="n">belongs_to</span> <span class="ss">:product</span>
<span class="n">app</span><span class="o">/</span><span class="n">models</span><span class="o">/</span><span class="n">comment</span><span class="p">.</span><span class="nf">rb</span><span class="p">:</span><span class="mi">3</span><span class="p">:</span>  <span class="n">belongs_to</span> <span class="ss">:user</span>
<span class="n">app</span><span class="o">/</span><span class="n">models</span><span class="o">/</span><span class="n">order</span><span class="p">.</span><span class="nf">rb</span><span class="p">:</span><span class="mi">5</span><span class="p">:</span>  <span class="n">belongs_to</span> <span class="ss">:user</span>
<span class="n">app</span><span class="o">/</span><span class="n">models</span><span class="o">/</span><span class="n">order</span><span class="p">.</span><span class="nf">rb</span><span class="p">:</span><span class="mi">6</span><span class="p">:</span>  <span class="n">has_many</span> <span class="ss">:product_lists</span>
<span class="n">app</span><span class="o">/</span><span class="n">models</span><span class="o">/</span><span class="n">photo</span><span class="p">.</span><span class="nf">rb</span><span class="p">:</span><span class="mi">3</span><span class="p">:</span>  <span class="n">belongs_to</span> <span class="ss">:product</span>
<span class="n">app</span><span class="o">/</span><span class="n">models</span><span class="o">/</span><span class="n">product</span><span class="p">.</span><span class="nf">rb</span><span class="p">:</span><span class="mi">3</span><span class="p">:</span>  <span class="n">has_many</span> <span class="ss">:photos</span>
<span class="n">app</span><span class="o">/</span><span class="n">models</span><span class="o">/</span><span class="n">product</span><span class="p">.</span><span class="nf">rb</span><span class="p">:</span><span class="mi">4</span><span class="p">:</span>  <span class="n">has_many</span> <span class="ss">:comments</span>
<span class="n">app</span><span class="o">/</span><span class="n">models</span><span class="o">/</span><span class="n">product</span><span class="p">.</span><span class="nf">rb</span><span class="p">:</span><span class="mi">7</span><span class="p">:</span>  <span class="n">belongs_to</span> <span class="ss">:location</span>
<span class="n">app</span><span class="o">/</span><span class="n">models</span><span class="o">/</span><span class="n">product_list</span><span class="p">.</span><span class="nf">rb</span><span class="p">:</span><span class="mi">2</span><span class="p">:</span>  <span class="n">belongs_to</span> <span class="ss">:order</span>
<span class="n">app</span><span class="o">/</span><span class="n">models</span><span class="o">/</span><span class="n">user</span><span class="p">.</span><span class="nf">rb</span><span class="p">:</span><span class="mi">7</span><span class="p">:</span>         <span class="n">has_many</span> <span class="ss">:comments</span>
<span class="n">app</span><span class="o">/</span><span class="n">models</span><span class="o">/</span><span class="n">user</span><span class="p">.</span><span class="nf">rb</span><span class="p">:</span><span class="mi">13</span><span class="p">:</span>  <span class="n">has_many</span> <span class="ss">:orders</span>
<span class="n">app</span><span class="o">/</span><span class="n">models</span><span class="o">/</span><span class="n">welcome</span><span class="p">.</span><span class="nf">rb</span><span class="p">:</span><span class="mi">2</span><span class="p">:</span>  <span class="n">has_many</span> <span class="ss">:products</span>
<span class="n">app</span><span class="o">/</span><span class="n">models</span><span class="o">/</span><span class="n">welcome</span><span class="p">.</span><span class="nf">rb</span><span class="p">:</span><span class="mi">3</span><span class="p">:</span>  <span class="n">has_many</span> <span class="ss">:photos</span><span class="p">,</span> <span class="ss">through: :product</span>
<span class="n">config</span><span class="o">/</span><span class="n">initializers</span><span class="o">/</span><span class="n">new_framework_defaults</span><span class="p">.</span><span class="nf">rb</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span><span class="c1"># Require `belongs_to` associations by default. Previous versions had false.</span>
<span class="n">config</span><span class="o">/</span><span class="n">initializers</span><span class="o">/</span><span class="n">new_framework_defaults</span><span class="p">.</span><span class="nf">rb</span><span class="p">:</span><span class="mi">18</span><span class="ss">:Rails</span><span class="p">.</span><span class="nf">application</span><span class="p">.</span><span class="nf">config</span><span class="p">.</span><span class="nf">active_record</span>
<span class="p">.</span><span class="nf">belongs_to_required_by_default</span> <span class="o">=</span> <span class="kp">true</span>
</code></pre></div></div>

<hr />

<p>关于grep的用法还有很多，参数设置也细分了很多种，加上组合使用方法就更加复杂。
这里有可供参考的网站：</p>

<ul>
  <li>https://zh.wikipedia.org/wiki/Grep</li>
  <li>http://gitbook.liuhui998.com/4_8.html</li>
  <li>https://git-scm.com/book/zh/v2/Git-工具-搜索</li>
  <li>https://git-scm.com/docs/git-grep</li>
</ul>

        </div>

        <!-- 
          <div class="page-share">
  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Fprogramming-basics%2FLinux-command-grep%2F" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" class="btn btn--facebook btn--small"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i> <span>Share</span></a>
  <a href="https://twitter.com/intent/tweet?text=grep%E7%B3%BB%E5%88%97%E5%91%BD%E4%BB%A4%E7%94%A8%E4%BB%A5%E6%9F%A5%E6%89%BE%E4%BF%A1%E6%81%AF%20http%3A%2F%2Flocalhost%3A4000%2Fprogramming-basics%2FLinux-command-grep%2F" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" class="btn btn--twitter btn--small"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i> <span>Tweet</span></a>
  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Fprogramming-basics%2FLinux-command-grep%2F" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" class="btn btn--linkedin btn--small"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> <span>LinkedIn</span></a>
  <a href="https://reddit.com/submit?title=grep%E7%B3%BB%E5%88%97%E5%91%BD%E4%BB%A4%E7%94%A8%E4%BB%A5%E6%9F%A5%E6%89%BE%E4%BF%A1%E6%81%AF&url=http%3A%2F%2Flocalhost%3A4000%2Fprogramming-basics%2FLinux-command-grep%2F" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" class="btn btn--reddit btn--small"><i class="fab fa-fw fa-reddit" aria-hidden="true"></i> <span>Reddit</span></a>
</div>

         -->

        

        <nav class="page-pagination" role="navigation">
  
    <a class="page-previous" href="/programming-error%20records/Frequent-problems-when-deploying-to-heroku/">
      <h4 class="page-pagination-label">Previous</h4>
      <span class="page-pagination-title">
        <i class="fas fa-arrow-left"></i> Ruby on Rails, 部署到heroku常见问题

      </span>
    </a>
  

  
    <a class="page-next" href="/programming-error%20records/Frequent-errors-when-learning-ruby-on-rails/">
      <h4 class="page-pagination-label">Next</h4>
      <span class="page-pagination-title">
        Collection of errors when learning Ruby on Rails
 <i class="fas fa-arrow-right"></i>
      </span>
    </a>
  
</nav>

      </div>
    </div>
  </article>
</main>


    <footer id="footer" class="site-footer">
  <!-- start custom footer snippets -->

<!-- end custom footer snippets -->


  <!--<div class="social-icons"><a class="social-icon" href="/atom.xml"><i class="fas fa-rss-square fa-2x" title="Feed"></i></a></div>-->

  <div class="copyright">
    
    <p>&copy; 2018  Caven.</p> <p>Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll. </a>
       Theme: <a href="https://github.com/mmistakes/so-simple-theme" rel="nofollow">So Simple</a>.</p>
    
  </div>
</footer>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script src="/assets/js/main.min.js"></script>
  <script src="https://use.fontawesome.com/releases/v5.0.7/js/all.js"></script>


  </body>

</html>
